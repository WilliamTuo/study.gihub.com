<html>
<head>
  <title>交换区</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600240 (zh-CN, DDL); Windows/6.1.1 (Win32);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1613"/>
<h1>交换区</h1>

<div><span><div><p style="margin: 0px; padding: 0px; font-weight: normal; color: rgb(0, 0, 0); font-family: &quot;Helvetica Neue&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><strong>mkswap</strong></p><p style="margin: 0px; padding: 0px; font-weight: normal; color: rgb(0, 0, 0); font-family: &quot;Helvetica Neue&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">功能说明：设置交换区(swap area)，可将磁盘分区或文件设为Linux的交换区</p><p style="margin: 0px; padding: 0px; font-weight: normal; color: rgb(0, 0, 0); font-family: &quot;Helvetica Neue&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">语　　法：mkswap [-cf][-v0][-v1][设备名称或文件][交换区大小]<br clear="none"/></p><p style="margin: 0px; padding: 0px; font-weight: normal; color: rgb(0, 0, 0); font-family: &quot;Helvetica Neue&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">参　　数：</p><p style="margin: 0px; padding: 0px; font-weight: normal; color: rgb(0, 0, 0); font-family: &quot;Helvetica Neue&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">     -c   建立交换区前，先检查是否有损坏的区块。</p><p style="margin: 0px; padding: 0px; font-weight: normal; color: rgb(0, 0, 0); font-family: &quot;Helvetica Neue&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">     -f   在SPARC电脑上建立交换区时，要加上此参数。</p><p style="margin: 0px; padding: 0px; font-weight: normal; color: rgb(0, 0, 0); font-family: &quot;Helvetica Neue&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">     -v0   建立旧式交换区，此为预设值。</p><p style="margin: 0px; padding: 0px; font-weight: normal; color: rgb(0, 0, 0); font-family: &quot;Helvetica Neue&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">     -v1   建立新式交换区。</p><p style="margin: 0px; padding: 0px; font-weight: normal; color: rgb(0, 0, 0); font-family: &quot;Helvetica Neue&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">     [交换区大小]   指定交换区的大小，单位为1024字节</p><hr style="margin: 0px; padding: 0px; font-weight: normal; color: rgb(0, 0, 0); font-family: &quot;Helvetica Neue&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"/><p style="margin: 0px; padding: 0px; font-weight: normal; color: rgb(0, 0, 0); font-family: &quot;Helvetica Neue&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><strong>swapon</strong></p><p style="margin: 0px; padding: 0px; font-weight: normal; color: rgb(0, 0, 0); font-family: &quot;Helvetica Neue&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">功能说明：激活swap</p><p style="margin: 0px; padding: 0px; font-weight: normal; color: rgb(0, 0, 0); font-family: &quot;Helvetica Neue&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">参 数：-a 自动启动所有SWAP装置</p><div style="color: rgb(0, 0, 0); font-family: &quot;Helvetica Neue&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">-s 显示简短的装置讯息</div><div style="color: rgb(0, 0, 0); font-family: &quot;Helvetica Neue&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div><div><table border="0" cellpadding="0" cellspacing="0" style="width:100%;"><tbody><tr><td colspan="1" rowspan="1" style="margin: 0px; padding: 0px; font-weight: normal !important;"><div><div>[root<a href="#" shape="rect" style="color: rgb(37, 187, 155);" target="_blank">@localhost</a> ~]# swapon /dev/sdb1  ;通过swapon激活虚拟内存</div></div></td></tr></tbody></table></div></div><div><div><table border="0" cellpadding="0" cellspacing="0" style="width:100%;"><tbody><tr><td colspan="1" rowspan="1" style="margin: 0px; padding: 0px; font-weight: normal !important;"><div>1</div></td><td colspan="1" rowspan="1" style="margin: 0px; padding: 0px; font-weight: normal !important;"><div><div>[root<a href="#" shape="rect" style="color: rgb(37, 187, 155);" target="_blank">@localhost</a> ~]# swapon -a    ;让内核重新读取fstab文件里面的虚拟内存挂载信息,自动让我们挂载的分区生效</div></div></td></tr></tbody></table></div></div><hr style="margin: 0px; padding: 0px; font-weight: normal !important;"/><p style="margin: 0px; padding: 0px; font-weight: normal !important;"><strong>swapoff<br clear="none"/>功能说明：</strong>关闭系统交换分区</p><p style="margin: 0px; padding: 0px; font-weight: normal !important;">语　　法：swapoff[必要参数][选择参数]</p><p style="margin: 0px; padding: 0px; font-weight: normal !important;">参 数：<br clear="none"/></p><p style="margin: 0px; padding: 0px; font-weight: normal !important;"><strong><strong>   必要参数</strong></strong></p><p style="margin: 0px; padding: 0px; font-weight: normal !important;">       -a 关闭所有交换设备</p><p style="margin: 0px; padding: 0px; font-weight: normal !important;"><strong><strong>选择参数</strong></strong></p><p style="margin: 0px; padding: 0px; font-weight: normal !important;">       -h 帮助信息</p><p style="margin: 0px; padding: 0px; font-weight: normal !important;">       -V 版本信息</p><p style="margin: 0px; padding: 0px; font-weight: normal !important;">范    例：</p><div><div><table border="0" cellpadding="0" cellspacing="0" style="width:100%;"><tbody><tr><td colspan="1" rowspan="1" style="margin: 0px; padding: 0px; font-weight: normal !important;"><div>1</div></td><td colspan="1" rowspan="1" style="margin: 0px; padding: 0px; font-weight: normal !important;"><div><div>[root<a href="#" shape="rect" style="color: rgb(37, 187, 155);" target="_blank">@localhost</a> ~]# swapoff /dev/sdb1    ;卸载挂在的swap分区</div></div></td></tr></tbody></table></div></div><hr style="margin: 0px; padding: 0px; font-weight: normal !important;"/><p style="margin: 0px; padding: 0px; font-weight: normal !important;"><strong>清除刷新swap</strong></p><div><div><table border="0" cellpadding="0" cellspacing="0" style="width:100%;"><tbody><tr><td colspan="1" rowspan="1" style="margin: 0px; padding: 0px; font-weight: normal !important;"><div>1</div><div>2</div><div>3</div></td><td colspan="1" rowspan="1" style="margin: 0px; padding: 0px; font-weight: normal !important;"><div><div>[root<a href="#" shape="rect" style="color: rgb(37, 187, 155);" target="_blank">@localhost</a> ~]# swapoff -a</div><div>[root<a href="#" shape="rect" style="color: rgb(37, 187, 155);" target="_blank">@localhost</a> ~]# swapon -a</div><div>[root<a href="#" shape="rect" style="color: rgb(37, 187, 155);" target="_blank">@localhost</a> ~]#</div></div></td></tr></tbody></table></div></div><hr style="margin: 0px; padding: 0px; font-weight: normal !important;"/><p style="margin: 0px; padding: 0px; font-weight: normal !important;"><strong>设置swap优先级的方法<br clear="none"/></strong></p><div><div><table border="0" cellpadding="0" cellspacing="0" style="width:100%;"><tbody><tr><td colspan="1" rowspan="1" style="margin: 0px; padding: 0px; font-weight: normal !important;"><div>1</div><div>2</div></td><td colspan="1" rowspan="1" style="margin: 0px; padding: 0px; font-weight: normal !important;"><div><div>[root<a href="#" shape="rect" style="color: rgb(37, 187, 155);" target="_blank">@localhost</a> ~]# vim /proc/sys/vm/swappiness</div><div>60     //修改改值</div></div></td></tr></tbody></table></div></div><p style="margin: 0px; padding: 0px; font-weight: normal !important;">wappiness=0 的时候表示最大限度使用物理内存，然后才是swap空间；</p><div>swappiness＝100 的时候表示积极的使用swap分区，并且把内存上的数据及时的搬运到swap空间里面。</div><div><br clear="none"/></div><div><br clear="none"/></div><div><br clear="none"/></div><div>转自<a href="http://pengyl.blog.51cto.com/5591604/1259765" shape="rect" style="color: rgb(37, 187, 155);">http://pengyl.blog.51cto.com/5591604/1259765</a></div></div></div></span>
</div></body></html> 